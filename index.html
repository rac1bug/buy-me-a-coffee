<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Delivex Pro | Delivery Premium</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
  --primary: #ff7043;
  --primary-dark: #f4511e;
  --secondary: #4fc3f7;
  --dark: #263238;
  --light: #f5f5f5;
  --gray: #bdbdbd;
  --success: #66bb6a;
  --danger: #ef5350;
  --warning: #ffca28;
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  --transition: all 0.3s ease;
  --border-radius: 16px;
}

[data-theme="dark"] {
  --dark: #f5f5f5;
  --light: #263238;
  --gray: #78909c;
  --bg: #1e272c;
  --card-bg: #2c3a42;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', sans-serif;
  background: var(--bg, #fafafa);
  color: var(--dark);
  overflow-x: hidden;
  transition: var(--transition);
}

header {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  padding: 1rem 1.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: var(--shadow);
  position: sticky;
  top: 0;
  z-index: 100;
}

.logo {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
}

.logo i {
  font-size: 1.8rem;
}

.logo h1 {
  font-size: 1.5rem;
  font-weight: 600;
}

.header-controls {
  display: flex;
  gap: 15px;
  align-items: center;
}

.search-container {
  position: relative;
}

.search-container input {
  padding: 0.6rem 1rem 0.6rem 2.5rem;
  border: none;
  border-radius: 30px;
  background: rgba(255, 255, 255, 0.2);
  color: white;
  font-size: 0.9rem;
  width: 200px;
  transition: var(--transition);
}

.search-container input:focus {
  outline: none;
  background: rgba(255, 255, 255, 0.3);
  width: 250px;
}

.search-container i {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: white;
}

.user-controls {
  display: flex;
  gap: 15px;
  align-items: center;
}

.user-controls button {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  cursor: pointer;
  position: relative;
  transition: var(--transition);
}

.user-controls button:hover {
  background: rgba(255, 255, 255, 0.3);
}

.cart-count {
  position: absolute;
  top: -5px;
  right: -5px;
  background: var(--danger);
  color: white;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 600;
}

.theme-toggle {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  border-radius: 30px;
  padding: 0.5rem 1rem;
  color: white;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: var(--transition);
}

.theme-toggle:hover {
  background: rgba(255, 255, 255, 0.3);
}

.categories {
  display: flex;
  gap: 10px;
  padding: 1rem 1.5rem;
  overflow-x: auto;
  scrollbar-width: none;
  background: var(--card-bg, white);
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.categories::-webkit-scrollbar {
  display: none;
}

.category-btn {
  background: var(--light);
  border: none;
  padding: 0.6rem 1.2rem;
  border-radius: 30px;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  white-space: nowrap;
  transition: var(--transition);
  color: var(--dark);
}

.category-btn.active,
.category-btn:hover {
  background: var(--primary);
  color: white;
}

#product-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.5rem;
  padding: 2rem;
}

.product-card {
  background: var(--card-bg, white);
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
}

.product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

.product-badge {
  position: absolute;
  top: 10px;
  left: 10px;
  background: var(--danger);
  color: white;
  padding: 0.3rem 0.6rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  z-index: 2;
}

.product-img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.product-card:hover .product-img {
  transform: scale(1.05);
}

.product-info {
  padding: 1.2rem;
}

.product-title {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: var(--dark);
}

.product-desc {
  color: var(--gray);
  font-size: 0.85rem;
  margin-bottom: 1rem;
  line-height: 1.5;
}

.rating {
  display: flex;
  align-items: center;
  gap: 5px;
  margin-bottom: 1rem;
}

.rating i {
  color: var(--warning);
  font-size: 0.9rem;
}

.product-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.product-price {
  font-weight: 700;
  font-size: 1.2rem;
  color: var(--primary);
}

.add-to-cart {
  background: var(--primary);
  color: white;
  border: none;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transition);
  box-shadow: 0 3px 6px rgba(255, 112, 67, 0.3);
}

.add-to-cart:hover {
  background: var(--primary-dark);
  transform: scale(1.1);
}

.cart-modal {
  position: fixed;
  top: 0;
  right: 0;
  width: 380px;
  height: 100%;
  background: var(--card-bg, white);
  box-shadow: -2px 0 20px rgba(0,0,0,0.15);
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  z-index: 2000;
  transform: translateX(100%);
  transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
  overflow-y: auto;
}

.cart-modal.open {
  transform: translateX(0);
}

.cart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--gray);
}

.cart-header h2 {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--dark);
}

.close-cart {
  background: none;
  border: none;
  font-size: 1.5rem;
  color: var(--gray);
  cursor: pointer;
  transition: var(--transition);
}

.close-cart:hover {
  color: var(--danger);
}

.cart-items {
  flex-grow: 1;
  margin-bottom: 1.5rem;
}

.cart-item {
  display: flex;
  gap: 12px;
  padding: 1rem 0;
  border-bottom: 1px solid var(--gray);
}

.cart-item-img {
  width: 80px;
  height: 80px;
  border-radius: 10px;
  object-fit: cover;
}

.cart-item-details {
  flex-grow: 1;
  color: var(--dark);
}

.cart-item-title {
  font-weight: 600;
  margin-bottom: 5px;
}

.cart-item-price {
  color: var(--primary);
  font-weight: 600;
  margin-bottom: 8px;
}

.cart-item-actions {
  display: flex;
  align-items: center;
  gap: 10px;
}

.quantity-btn {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: none;
  background: var(--light);
  color: var(--dark);
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
}

.quantity-btn:hover {
  background: var(--primary);
  color: white;
}

.quantity {
  font-weight: 500;
  min-width: 30px;
  text-align: center;
  color: var(--dark);
}

.remove-item {
  margin-left: auto;
  background: none;
  border: none;
  color: var(--danger);
  cursor: pointer;
  transition: var(--transition);
}

.remove-item:hover {
  transform: scale(1.1);
}

.cart-summary {
  background: var(--light);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  margin-top: auto;
}

.summary-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 12px;
  color: var(--dark);
}

.summary-label {
  color: var(--gray);
}

.summary-value {
  font-weight: 500;
}

.total-row {
  font-weight: 700;
  font-size: 1.2rem;
  padding-top: 1rem;
  margin-top: 1rem;
  border-top: 1px solid var(--gray);
}

#address {
  padding: 0.9rem;
  border: 1px solid var(--gray);
  border-radius: 10px;
  width: 100%;
  margin: 1.5rem 0;
  font-family: inherit;
  font-size: 0.95rem;
  transition: var(--transition);
  background: var(--card-bg);
  color: var(--dark);
}

#address:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(255, 112, 67, 0.2);
}

#confirmOrder {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  border: none;
  padding: 1rem;
  border-radius: 10px;
  font-family: inherit;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  width: 100%;
  transition: var(--transition);
  box-shadow: 0 4px 10px rgba(255, 112, 67, 0.4);
}

#confirmOrder:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(255, 112, 67, 0.5);
}

#confirmOrder:disabled {
  background: var(--gray);
  transform: none;
  box-shadow: none;
  cursor: not-allowed;
}

.empty-cart {
  text-align: center;
  padding: 2rem;
  color: var(--gray);
}

.empty-cart i {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.3;
}

.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1500;
  opacity: 0;
  visibility: hidden;
  transition: var(--transition);
}

.overlay.show {
  opacity: 1;
  visibility: visible;
}

.modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.9);
  background: var(--card-bg, white);
  border-radius: var(--border-radius);
  padding: 2rem;
  width: 90%;
  max-width: 500px;
  z-index: 3000;
  opacity: 0;
  visibility: hidden;
  transition: var(--transition);
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
}

.modal.show {
  opacity: 1;
  visibility: visible;
  transform: translate(-50%, -50%) scale(1);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--gray);
}

.modal-header h2 {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--dark);
}

.close-modal {
  background: none;
  border: none;
  font-size: 1.5rem;
  color: var(--gray);
  cursor: pointer;
  transition: var(--transition);
}

.close-modal:hover {
  color: var(--danger);
}

.modal-body {
  margin-bottom: 1.5rem;
}

.form-group {
  margin-bottom: 1.2rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: var(--dark);
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 0.8rem;
  border: 1px solid var(--gray);
  border-radius: 10px;
  font-family: inherit;
  font-size: 1rem;
  background: var(--card-bg);
  color: var(--dark);
  transition: var(--transition);
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(255, 112, 67, 0.2);
}

.tab-container {
  display: flex;
  gap: 10px;
  margin-bottom: 1.5rem;
}

.tab-btn {
  flex: 1;
  padding: 0.8rem;
  background: var(--light);
  border: none;
  border-radius: 10px;
  font-family: inherit;
  font-weight: 500;
  color: var(--dark);
  cursor: pointer;
  transition: var(--transition);
}

.tab-btn.active {
  background: var(--primary);
  color: white;
}

.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

.payment-methods {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 15px;
  margin-bottom: 1.5rem;
}

.payment-method {
  border: 2px solid var(--gray);
  border-radius: 10px;
  padding: 1rem;
  text-align: center;
  cursor: pointer;
  transition: var(--transition);
}

.payment-method.active {
  border-color: var(--primary);
  background: rgba(255, 112, 67, 0.1);
}

.payment-method i {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  color: var(--primary);
}

.payment-method.active i {
  color: var(--primary-dark);
}

.tracking-container {
  text-align: center;
  padding: 2rem 0;
}

.tracking-steps {
  display: flex;
  justify-content: space-between;
  position: relative;
  margin: 2rem 0;
}

.tracking-steps::before {
  content: '';
  position: absolute;
  top: 20px;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gray);
  z-index: 1;
}

.tracking-step {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.step-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--gray);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0.5rem;
  transition: var(--transition);
}

.step-icon.active {
  background: var(--primary);
}

.step-label {
  font-size: 0.9rem;
  color: var(--gray);
}

.step-label.active {
  color: var(--dark);
  font-weight: 500;
}

.order-history {
  margin-top: 2rem;
}

.order-card {
  background: var(--card-bg, white);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  margin-bottom: 1rem;
  box-shadow: var(--shadow);
  transition: var(--transition);
}

.order-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

.order-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--gray);
}

.order-id {
  font-weight: 600;
  color: var(--dark);
}

.order-status {
  padding: 0.3rem 0.8rem;
  border-radius: 30px;
  font-size: 0.85rem;
  font-weight: 500;
}

.status-delivered {
  background: rgba(102, 187, 106, 0.2);
  color: var(--success);
}

.status-pending {
  background: rgba(255, 202, 40, 0.2);
  color: var(--warning);
}

.status-cancelled {
  background: rgba(239, 83, 80, 0.2);
  color: var(--danger);
}

.order-items {
  margin-bottom: 1rem;
}

.order-item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.5rem;
  color: var(--dark);
}

.order-total {
  font-weight: 600;
  color: var(--dark);
  text-align: right;
}

.admin-panel {
  padding: 2rem;
}

.admin-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
}

.admin-title {
  font-size: 1.8rem;
  font-weight: 600;
  color: var(--dark);
}

.admin-actions {
  display: flex;
  gap: 15px;
}

.admin-btn {
  background: var(--primary);
  color: white;
  border: none;
  padding: 0.8rem 1.5rem;
  border-radius: 10px;
  font-family: inherit;
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  gap: 8px;
}

.admin-btn:hover {
  background: var(--primary-dark);
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
}

.admin-product-card {
  background: var(--card-bg, white);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  box-shadow: var(--shadow);
}

.admin-product-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.admin-product-title {
  font-weight: 600;
  color: var(--dark);
}

.admin-product-actions {
  display: flex;
  gap: 10px;
}

.action-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transition);
}

.edit-btn {
  background: rgba(76, 175, 80, 0.1);
  color: var(--success);
}

.edit-btn:hover {
  background: var(--success);
  color: white;
}

.delete-btn {
  background: rgba(239, 83, 80, 0.1);
  color: var(--danger);
}

.delete-btn:hover {
  background: var(--danger);
  color: white;
}

.admin-product-image {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 10px;
  margin-bottom: 1rem;
}

.admin-product-details {
  color: var(--dark);
  margin-bottom: 1rem;
}

.admin-product-price {
  font-weight: 700;
  color: var(--primary);
}

/* Animaciones */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideIn {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.fade-in {
  animation: fadeIn 0.5s ease forwards;
}

.slide-in {
  animation: slideIn 0.4s ease forwards;
}

/* Responsive Design */
@media (max-width: 768px) {
  .header-controls {
    gap: 10px;
  }
  
  .search-container input {
    width: 150px;
  }
  
  .search-container input:focus {
    width: 180px;
  }
  
  .theme-toggle span {
    display: none;
  }
  
  #product-list {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    padding: 1.5rem;
  }
  
  .cart-modal {
    width: 320px;
  }
  
  .modal {
    width: 95%;
  }
}

@media (max-width: 576px) {
  header {
    flex-direction: column;
    gap: 15px;
    padding: 1rem;
  }
  
  .logo h1 {
    font-size: 1.3rem;
  }
  
  .header-controls {
    width: 100%;
    justify-content: space-between;
  }
  
  .search-container {
    flex-grow: 1;
  }
  
  .search-container input {
    width: 100%;
  }
  
  .search-container input:focus {
    width: 100%;
  }
  
  .categories {
    padding: 1rem;
  }
  
  #product-list {
    grid-template-columns: 1fr;
    padding: 1rem;
    gap: 1rem;
  }
  
  .cart-modal {
    width: 100%;
  }
  
  .cart-item {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  
  .cart-item-actions {
    justify-content: center;
  }
  
  .remove-item {
    margin-left: 0;
  }
  
  .payment-methods {
    grid-template-columns: 1fr;
  }
}
  </style>
</head>
<body>
  <!-- Header con búsqueda y carrito -->
  <header>
    <div class="logo" id="goHome">
      <i class="fas fa-utensils"></i>
      <h1>Delivex Pro</h1>
    </div>
    <div class="header-controls">
      <div class="search-container">
        <i class="fas fa-search"></i>
        <input type="text" id="search" placeholder="Buscar productos...">
      </div>
      <div class="user-controls">
        <button class="theme-toggle" id="themeToggle">
          <i class="fas fa-moon"></i>
          <span>Modo oscuro</span>
        </button>
        <button id="userBtn">
          <i class="fas fa-user"></i>
        </button>
        <button id="openCart">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count">0</span>
        </button>
      </div>
    </div>
  </header>
  
  <!-- Categorías -->
  <div class="categories">
    <button class="category-btn active" data-category="all">Todos</button>
    <button class="category-btn" data-category="pizza">Pizzas</button>
    <button class="category-btn" data-category="burger">Hamburguesas</button>
    <button class="category-btn" data-category="tacos">Tacos</button>
    <button class="category-btn" data-category="pasta">Pastas</button>
    <button class="category-btn" data-category="salad">Ensaladas</button>
  </div>
  
  <!-- Lista de productos -->
  <main id="product-list">
    <!-- Las tarjetas de productos se generarán con JS -->
  </main>
  
  <!-- Carrito de compras -->
  <div class="cart-modal" id="cartModal">
    <div class="cart-header">
      <h2>Tu Pedido</h2>
      <button class="close-cart" id="closeCart">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <div class="cart-items" id="cart-items">
      <!-- Los productos del carrito se generarán con JS -->
    </div>
    
    <div class="cart-summary">
      <div class="summary-row">
        <span class="summary-label">Subtotal</span>
        <span class="summary-value">$<span id="subtotal">0.00</span></span>
      </div>
      <div class="summary-row">
        <span class="summary-label">Envío</span>
        <span class="summary-value">$<span id="shipping">25.00</span></span>
      </div>
      <div class="summary-row total-row">
        <span class="summary-label">Total</span>
        <span class="summary-value">$<span id="total">0.00</span></span>
      </div>
    </div>
    
    <input type="text" id="address" placeholder="Dirección de entrega" required />
    
    <button id="confirmOrder">Continuar al Pago</button>
  </div>
  
  <!-- Overlay para el carrito -->
  <div class="overlay" id="overlay"></div>
  
  <!-- Modal de Login -->
  <div class="modal" id="loginModal">
    <div class="modal-header">
      <h2>Iniciar Sesión</h2>
      <button class="close-modal" id="closeLogin">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="email">Correo Electrónico</label>
        <input type="email" id="email" placeholder="tu@email.com">
      </div>
      <div class="form-group">
        <label for="password">Contraseña</label>
        <input type="password" id="password" placeholder="••••••••">
      </div>
      <button class="admin-btn" id="loginBtn" style="width: 100%;">
        <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
      </button>
      <p style="text-align: center; margin-top: 1rem; color: var(--gray);">
        ¿No tienes cuenta? <a href="#" id="showRegister" style="color: var(--primary); cursor: pointer;">Regístrate</a>
      </p>
    </div>
  </div>
  
  <!-- Modal de Registro -->
  <div class="modal" id="registerModal">
    <div class="modal-header">
      <h2>Crear Cuenta</h2>
      <button class="close-modal" id="closeRegister">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="name">Nombre Completo</label>
        <input type="text" id="name" placeholder="Tu nombre">
      </div>
      <div class="form-group">
        <label for="regEmail">Correo Electrónico</label>
        <input type="email" id="regEmail" placeholder="tu@email.com">
      </div>
      <div class="form-group">
        <label for="regPassword">Contraseña</label>
        <input type="password" id="regPassword" placeholder="••••••••">
      </div>
      <div class="form-group">
        <label for="phone">Teléfono</label>
        <input type="tel" id="phone" placeholder="+52 123 456 7890">
      </div>
      <button class="admin-btn" id="registerBtn" style="width: 100%;">
        <i class="fas fa-user-plus"></i> Crear Cuenta
      </button>
      <p style="text-align: center; margin-top: 1rem; color: var(--gray);">
        ¿Ya tienes cuenta? <a href="#" id="showLogin" style="color: var(--primary); cursor: pointer;">Inicia Sesión</a>
      </p>
    </div>
  </div>
  
  <!-- Modal de Pago -->
  <div class="modal" id="paymentModal">
    <div class="modal-header">
      <h2>Método de Pago</h2>
      <button class="close-modal" id="closePayment">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <div class="tab-container">
        <button class="tab-btn active" data-tab="card">Tarjeta</button>
        <button class="tab-btn" data-tab="paypal">PayPal</button>
        <button class="tab-btn" data-tab="cash">Efectivo</button>
      </div>
      
      <div class="tab-content active" id="cardContent">
        <div class="form-group">
          <label for="cardNumber">Número de Tarjeta</label>
          <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456">
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <div class="form-group">
            <label for="expiry">Fecha de Expiración</label>
            <input type="text" id="expiry" placeholder="MM/AA">
          </div>
          <div class="form-group">
            <label for="cvv">CVV</label>
            <input type="text" id="cvv" placeholder="123">
          </div>
        </div>
        <div class="form-group">
          <label for="cardName">Nombre en la Tarjeta</label>
          <input type="text" id="cardName" placeholder="Nombre Completo">
        </div>
      </div>
      
      <div class="tab-content" id="paypalContent">
        <div style="text-align: center; padding: 2rem 0;">
          <i class="fab fa-paypal" style="font-size: 3rem; color: #0070ba;"></i>
          <p style="margin: 1rem 0; color: var(--dark);">Serás redirigido a PayPal para completar tu pago</p>
        </div>
      </div>
      
      <div class="tab-content" id="cashContent">
        <div style="text-align: center; padding: 2rem 0;">
          <i class="fas fa-money-bill-wave" style="font-size: 3rem; color: var(--success);"></i>
          <p style="margin: 1rem 0; color: var(--dark);">Paga en efectivo cuando recibas tu pedido</p>
        </div>
      </div>
      
      <button class="admin-btn" id="processPayment" style="width: 100%;">
        <i class="fas fa-lock"></i> Pagar $<span id="paymentTotal">0.00</span>
      </button>
    </div>
  </div>
  
  <!-- Modal de Confirmación -->
  <div class="modal" id="confirmationModal">
    <div class="modal-header">
      <h2>¡Pedido Confirmado!</h2>
      <button class="close-modal" id="closeConfirmation">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <div class="tracking-container">
        <i class="fas fa-check-circle" style="font-size: 4rem; color: var(--success); margin-bottom: 1rem;"></i>
        <h3 style="color: var(--dark); margin-bottom: 1rem;">Tu pedido está en camino</h3>
        <p style="color: var(--gray); margin-bottom: 2rem;">ID de pedido: <strong>#ORD-<span id="orderId">12345</span></strong></p>
        
        <div class="tracking-steps">
          <div class="tracking-step">
            <div class="step-icon active"><i class="fas fa-check"></i></div>
            <div class="step-label active">Confirmado</div>
          </div>
          <div class="tracking-step">
            <div class="step-icon"><i class="fas fa-utensils"></i></div>
            <div class="step-label">Preparando</div>
          </div>
          <div class="tracking-step">
            <div class="step-icon"><i class="fas fa-motorcycle"></i></div>
            <div class="step-label">En camino</div>
          </div>
          <div class="tracking-step">
            <div class="step-icon"><i class="fas fa-home"></i></div>
            <div class="step-label">Entregado</div>
          </div>
        </div>
        
        <p style="color: var(--dark); font-weight: 500; margin-top: 2rem;">
          Tiempo estimado de entrega: <span id="deliveryTime">30 minutos</span>
        </p>
      </div>
      
      <button class="admin-btn" id="viewOrder" style="width: 100%; margin-top: 1.5rem;">
        <i class="fas fa-list"></i> Ver detalles del pedido
      </button>
    </div>
  </div>
  
  <!-- Panel de Administración -->
  <div class="admin-panel" id="adminPanel" style="display: none;">
    <div class="admin-header">
      <h2 class="admin-title">Panel de Administración</h2>
      <div class="admin-actions">
        <button class="admin-btn" id="addProduct">
          <i class="fas fa-plus"></i> Nuevo Producto
        </button>
        <button class="admin-btn" id="viewOrders">
          <i class="fas fa-shopping-bag"></i> Ver Pedidos
        </button>
        <button class="admin-btn" id="logout">
          <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
        </button>
      </div>
    </div>
    
    <div class="products-grid" id="adminProducts">
      <!-- Productos de administración se generarán con JS -->
    </div>
  </div>
  
  <!-- Historial de Pedidos -->
  <div class="order-history" id="orderHistory" style="display: none; padding: 2rem;">
    <div class="admin-header">
      <h2 class="admin-title">Historial de Pedidos</h2>
      <button class="admin-btn" id="backToAdmin">
        <i class="fas fa-arrow-left"></i> Volver
      </button>
    </div>
    
    <div id="ordersList">
      <!-- Pedidos se generarán con JS -->
    </div>
  </div>

  <script>
    // Datos de productos
    const products = [
      { 
        id: 1, 
        name: "Pizza Hawaiana Premium", 
        price: 180, 
        category: "pizza",
        img: "https://images.unsplash.com/photo-1595854341625-f33ee10dbf94?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80", 
        desc: "Jamón, piña, queso mozzarella y salsa de tomate",
        badge: "Nuevo",
        rating: 4.5
      },
      { 
        id: 2, 
        name: "Hamburguesa Doble Deluxe", 
        price: 150, 
        category: "burger",
        img: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80", 
        desc: "Doble carne, queso cheddar, tocino, lechuga y salsa especial",
        badge: "Popular",
        rating: 4.8
      },
      { 
        id: 3, 
        name: "Tacos al Pastor Gourmet", 
        price: 120, 
        category: "tacos",
        img: "https://images.unsplash.com/photo-1613514785940-daed07799d9b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80", 
        desc: "Tortillas de maíz, cerdo adobado, piña, cilantro y cebolla",
        badge: "",
        rating: 4.3
      },
      { 
        id: 4, 
        name: "Pizza Vegetariana", 
        price: 160, 
        category: "pizza",
        img: "https://images.unsplash.com/photo-1593246049226-ded77bf90326?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80", 
        desc: "Champiñones, pimientos, cebolla, aceitunas y queso",
        badge: "Vegano",
        rating: 4.6
      },
      { 
        id: 5, 
        name: "Hamburguesa Clásica", 
        price: 120, 
        category: "burger",
        img: "https://images.unsplash.com/photo-1553979459-d2229ba7433b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80", 
        desc: "Carne de res, queso, lechuga, tomate y salsa",
        badge: "",
        rating: 4.2
      },
      { 
        id: 6, 
        name: "Tacos de Carnitas", 
        price: 110, 
        category: "tacos",
        img: "https://images.unsplash.com/photo-1615870216519-2f9fa575fa5c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80", 
        desc: "Cerdo confitado, cebolla, cilantro y salsa verde",
        badge: "",
        rating: 4.7
      },
      { 
        id: 7, 
        name: "Spaghetti Carbonara", 
        price: 140, 
        category: "pasta",
        img: "https://images.unsplash.com/photo-1588013273468-315fd88ea34c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80", 
        desc: "Pasta con salsa de huevo, queso pecorino, panceta y pimienta",
        badge: "",
        rating: 4.4
      },
      { 
        id: 8, 
        name: "Ensalada César", 
        price: 100, 
        category: "salad",
        img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80", 
        desc: "Lechuga romana, pollo, crutones, queso parmesano y aderezo",
        badge: "Saludable",
        rating: 4.1
      }
    ];

    // Pedidos de ejemplo
    const orders = [
      {
        id: "ORD-12345",
        date: "2023-10-15",
        items: [
          { name: "Pizza Hawaiana Premium", price: 180, quantity: 1 },
          { name: "Hamburguesa Doble Deluxe", price: 150, quantity: 2 }
        ],
        total: 480,
        status: "delivered",
        address: "Av. Reforma 123, CDMX"
      },
      {
        id: "ORD-12346",
        date: "2023-10-14",
        items: [
          { name: "Tacos al Pastor Gourmet", price: 120, quantity: 3 }
        ],
        total: 360,
        status: "pending",
        address: "Calle Juárez 456, CDMX"
      }
    ];

    // Referencias DOM
    const productList = document.getElementById("product-list");
    const cartModal = document.getElementById("cartModal");
    const cartItems = document.getElementById("cart-items");
    const subtotalEl = document.getElementById("subtotal");
    const shippingEl = document.getElementById("shipping");
    const totalEl = document.getElementById("total");
    const addressInput = document.getElementById("address");
    const openCartBtn = document.getElementById("openCart");
    const closeCartBtn = document.getElementById("closeCart");
    const confirmOrderBtn = document.getElementById("confirmOrder");
    const cartCount = document.querySelector(".cart-count");
    const categoryBtns = document.querySelectorAll(".category-btn");
    const searchInput = document.getElementById("search");
    const overlay = document.getElementById("overlay");
    const themeToggle = document.getElementById("themeToggle");
    const userBtn = document.getElementById("userBtn");
    const loginModal = document.getElementById("loginModal");
    const registerModal = document.getElementById("registerModal");
    const paymentModal = document.getElementById("paymentModal");
    const confirmationModal = document.getElementById("confirmationModal");
    const closeLogin = document.getElementById("closeLogin");
    const closeRegister = document.getElementById("closeRegister");
    const closePayment = document.getElementById("closePayment");
    const closeConfirmation = document.getElementById("closeConfirmation");
    const loginBtn = document.getElementById("loginBtn");
    const registerBtn = document.getElementById("registerBtn");
    const showRegister = document.getElementById("showRegister");
    const showLogin = document.getElementById("showLogin");
    const processPaymentBtn = document.getElementById("processPayment");
    const paymentTotal = document.getElementById("paymentTotal");
    const orderId = document.getElementById("orderId");
    const adminPanel = document.getElementById("adminPanel");
    const adminProducts = document.getElementById("adminProducts");
    const addProductBtn = document.getElementById("addProduct");
    const viewOrdersBtn = document.getElementById("viewOrders");
    const orderHistory = document.getElementById("orderHistory");
    const ordersList = document.getElementById("ordersList");
    const backToAdmin = document.getElementById("backToAdmin");
    const logoutBtn = document.getElementById("logout");
    const goHome = document.getElementById("goHome");
    const viewOrderBtn = document.getElementById("viewOrder");

    // Estado de la aplicación
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let currentCategory = "all";
    let currentSearch = "";
    const shippingCost = 25;
    let isAdmin = false;
    let currentUser = null;
    let currentOrder = null;

    // Inicializar la aplicación
    function init() {
      updateCart();
      renderProducts();
      setupEventListeners();
      checkAuth();
    }

    // Verificar autenticación
    function checkAuth() {
      const user = JSON.parse(localStorage.getItem('user'));
      if (user) {
        currentUser = user;
        if (user.email === 'admin@delivex.com') {
          isAdmin = true;
          showAdminPanel();
        }
      }
    }

    // Renderizar productos
    function renderProducts() {
      productList.innerHTML = "";
      
      const filteredProducts = products.filter(product => {
        const categoryMatch = currentCategory === "all" || product.category === currentCategory;
        const searchMatch = product.name.toLowerCase().includes(currentSearch.toLowerCase()) || 
                            product.desc.toLowerCase().includes(currentSearch.toLowerCase());
        return categoryMatch && searchMatch;
      });
      
      if (filteredProducts.length === 0) {
        productList.innerHTML = `
          <div class="empty-cart" style="grid-column: 1/-1; text-align: center; padding: 2rem;">
            <i class="fas fa-search"></i>
            <h3>No se encontraron productos</h3>
            <p>Intenta con otra categoría o término de búsqueda</p>
          </div>
        `;
        return;
      }
      
      filteredProducts.forEach(product => {
        const productCard = createProductCard(product);
        productList.appendChild(productCard);
      });
    }

    // Crear tarjeta de producto
    function createProductCard(product) {
      const div = document.createElement("div");
      div.className = "product-card slide-in";
      
      let badgeHTML = "";
      if (product.badge) {
        badgeHTML = `<div class="product-badge">${product.badge}</div>`;
      }
      
      // Crear estrellas de valoración
      let starsHTML = "";
      for (let i = 1; i <= 5; i++) {
        if (i <= Math.floor(product.rating)) {
          starsHTML += `<i class="fas fa-star"></i>`;
        } else if (i === Math.ceil(product.rating) && !Number.isInteger(product.rating)) {
          starsHTML += `<i class="fas fa-star-half-alt"></i>`;
        } else {
          starsHTML += `<i class="far fa-star"></i>`;
        }
      }
      
      div.innerHTML = `
        ${badgeHTML}
        <img src="${product.img}" alt="${product.name}" class="product-img">
        <div class="product-info">
          <h3 class="product-title">${product.name}</h3>
          <div class="rating">
            ${starsHTML} <span>${product.rating}</span>
          </div>
          <p class="product-desc">${product.desc}</p>
          <div class="product-footer">
            <span class="product-price">$${product.price}</span>
            <button class="add-to-cart" data-id="${product.id}">
              <i class="fas fa-plus"></i>
            </button>
          </div>
        </div>
      `;
      
      return div;
    }

    // Agregar producto al carrito
    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      
      // Buscar si el producto ya está en el carrito
      const existingItem = cart.find(item => item.id === productId);
      
      if (existingItem) {
        existingItem.quantity++;
      } else {
        cart.push({
          ...product,
          quantity: 1
        });
      }
      
      updateCart();
      
      // Animación de éxito
      const addBtn = document.querySelector(`.add-to-cart[data-id="${productId}"]`);
      addBtn.innerHTML = '<i class="fas fa-check"></i>';
      addBtn.style.background = "var(--success)";
      
      setTimeout(() => {
        addBtn.innerHTML = '<i class="fas fa-plus"></i>';
        addBtn.style.background = "";
      }, 1000);
      
      // Guardar en localStorage
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    // Actualizar carrito
    function updateCart() {
      // Actualizar contador
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartCount.textContent = totalItems;
      
      // Actualizar lista de productos
      cartItems.innerHTML = "";
      
      if (cart.length === 0) {
        cartItems.innerHTML = `
          <div class="empty-cart">
            <i class="fas fa-shopping-cart"></i>
            <h3>Tu carrito está vacío</h3>
            <p>Agrega algunos productos para continuar</p>
          </div>
        `;
        confirmOrderBtn.disabled = true;
      } else {
        cart.forEach(item => {
          const cartItem = createCartItem(item);
          cartItems.appendChild(cartItem);
        });
        confirmOrderBtn.disabled = false;
      }
      
      // Actualizar totales
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      const total = subtotal + shippingCost;
      
      subtotalEl.textContent = subtotal.toFixed(2);
      shippingEl.textContent = shippingCost.toFixed(2);
      totalEl.textContent = total.toFixed(2);
      paymentTotal.textContent = total.toFixed(2);
    }

    // Crear elemento del carrito
    function createCartItem(item) {
      const li = document.createElement("div");
      li.className = "cart-item";
      
      li.innerHTML = `
        <img src="${item.img}" alt="${item.name}" class="cart-item-img">
        <div class="cart-item-details">
          <h4 class="cart-item-title">${item.name}</h4>
          <p class="cart-item-price">$${(item.price * item.quantity).toFixed(2)}</p>
          <div class="cart-item-actions">
            <button class="quantity-btn minus" data-id="${item.id}">-</button>
            <span class="quantity">${item.quantity}</span>
            <button class="quantity-btn plus" data-id="${item.id}">+</button>
            <button class="remove-item" data-id="${item.id}">
              <i class="fas fa-trash-alt"></i>
            </button>
          </div>
        </div>
      `;
      
      return li;
    }

    // Configurar event listeners
    function setupEventListeners() {
      // Abrir/cerrar carrito
      openCartBtn.addEventListener("click", openCart);
      closeCartBtn.addEventListener("click", closeCart);
      overlay.addEventListener("click", closeCart);
      
      // Confirmar pedido
      confirmOrderBtn.addEventListener("click", () => {
        if (!currentUser) {
          showModal(loginModal);
          return;
        }
        
        const address = addressInput.value.trim();
        if (!address) {
          alert("Por favor ingresa una dirección de entrega.");
          return;
        }
        
        showModal(paymentModal);
      });
      
      // Procesar pago
      processPaymentBtn.addEventListener("click", () => {
        // Simular procesamiento de pago
        setTimeout(() => {
          closeModal(paymentModal);
          createOrder();
          showModal(confirmationModal);
        }, 1500);
      });
      
      // Filtrar por categoría
      categoryBtns.forEach(btn => {
        btn.addEventListener("click", () => {
          categoryBtns.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          currentCategory = btn.dataset.category;
          renderProducts();
        });
      });
      
      // Buscar productos
      searchInput.addEventListener("input", () => {
        currentSearch = searchInput.value;
        renderProducts();
      });
      
      // Delegación de eventos para productos
      productList.addEventListener("click", (e) => {
        if (e.target.closest(".add-to-cart")) {
          const productId = parseInt(e.target.closest(".add-to-cart").dataset.id);
          addToCart(productId);
        }
      });
      
      // Delegación de eventos para el carrito
      cartItems.addEventListener("click", (e) => {
        if (e.target.closest(".plus")) {
          const productId = parseInt(e.target.closest(".plus").dataset.id);
          const item = cart.find(i => i.id === productId);
          if (item) item.quantity++;
          updateCart();
          localStorage.setItem('cart', JSON.stringify(cart));
        }
        
        if (e.target.closest(".minus")) {
          const productId = parseInt(e.target.closest(".minus").dataset.id);
          const item = cart.find(i => i.id === productId);
          if (item && item.quantity > 1) {
            item.quantity--;
          } else {
            cart = cart.filter(i => i.id !== productId);
          }
          updateCart();
          localStorage.setItem('cart', JSON.stringify(cart));
        }
        
        if (e.target.closest(".remove-item")) {
          const productId = parseInt(e.target.closest(".remove-item").dataset.id);
          cart = cart.filter(i => i.id !== productId);
          updateCart();
          localStorage.setItem('cart', JSON.stringify(cart));
        }
      });
      
      // Toggle tema oscuro
      themeToggle.addEventListener("click", toggleTheme);
      
      // Login/Usuario
      userBtn.addEventListener("click", () => {
        if (currentUser) {
          if (isAdmin) {
            showAdminPanel();
          } else {
            alert(`Bienvenido ${currentUser.name}`);
          }
        } else {
          showModal(loginModal);
        }
      });
      
      // Mostrar/ocultar modales
      closeLogin.addEventListener("click", () => closeModal(loginModal));
      closeRegister.addEventListener("click", () => closeModal(registerModal));
      closePayment.addEventListener("click", () => closeModal(paymentModal));
      closeConfirmation.addEventListener("click", () => closeModal(confirmationModal));
      
      // Cambiar entre login/registro
      showRegister.addEventListener("click", (e) => {
        e.preventDefault();
        closeModal(loginModal);
        showModal(registerModal);
      });
      
      showLogin.addEventListener("click", (e) => {
        e.preventDefault();
        closeModal(registerModal);
        showModal(loginModal);
      });
      
      // Login
      loginBtn.addEventListener("click", login);
      
      // Registro
      registerBtn.addEventListener("click", register);
      
      // Tabs de pago
      document.querySelectorAll(".tab-btn").forEach(btn => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          
          document.querySelectorAll(".tab-content").forEach(content => {
            content.classList.remove("active");
          });
          
          document.getElementById(`${btn.dataset.tab}Content`).classList.add("active");
        });
      });
      
      // Botón para ver pedido
      viewOrderBtn.addEventListener("click", () => {
        closeModal(confirmationModal);
        if (isAdmin) {
          showAdminPanel();
        } else {
          alert("Función de historial de pedidos disponible para usuarios registrados");
        }
      });
      
      // Botones de administración
      addProductBtn.addEventListener("click", () => {
        alert("Funcionalidad para agregar productos en desarrollo");
      });
      
      viewOrdersBtn.addEventListener("click", showOrderHistory);
      backToAdmin.addEventListener("click", () => {
        orderHistory.style.display = "none";
        adminPanel.style.display = "block";
      });
      
      logoutBtn.addEventListener("click", logout);
      
      // Volver al inicio
      goHome.addEventListener("click", () => {
        adminPanel.style.display = "none";
        orderHistory.style.display = "none";
        document.querySelector('main').style.display = "grid";
        document.querySelector('.categories').style.display = "flex";
      });
    }

    // Abrir carrito
    function openCart() {
      cartModal.classList.add("open");
      overlay.classList.add("show");
      document.body.style.overflow = "hidden";
    }

    // Cerrar carrito
    function closeCart() {
      cartModal.classList.remove("open");
      overlay.classList.remove("show");
      document.body.style.overflow = "";
    }

    // Alternar tema oscuro
    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', newTheme);
      
      themeToggle.innerHTML = newTheme === 'dark' 
        ? `<i class="fas fa-sun"></i><span>Modo claro</span>` 
        : `<i class="fas fa-moon"></i><span>Modo oscuro</span>`;
      
      localStorage.setItem('theme', newTheme);
    }

    // Mostrar modal
    function showModal(modal) {
      closeCart();
      modal.classList.add("show");
      overlay.classList.add("show");
      document.body.style.overflow = "hidden";
    }

    // Cerrar modal
    function closeModal(modal) {
      modal.classList.remove("show");
      overlay.classList.remove("show");
      document.body.style.overflow = "";
    }

    // Login
    function login() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      
      if (!email || !password) {
        alert("Por favor completa todos los campos");
        return;
      }
      
      // Simular autenticación
      currentUser = {
        name: email === 'admin@delivex.com' ? 'Administrador' : 'Usuario Demo',
        email: email,
        phone: '555-1234-5678'
      };
      
      localStorage.setItem('user', JSON.stringify(currentUser));
      
      if (email === 'admin@delivex.com') {
        isAdmin = true;
        showAdminPanel();
      }
      
      closeModal(loginModal);
      alert(`Bienvenido ${currentUser.name}`);
    }

    // Registro
    function register() {
      const name = document.getElementById("name").value;
      const email = document.getElementById("regEmail").value;
      const password = document.getElementById("regPassword").value;
      const phone = document.getElementById("phone").value;
      
      if (!name || !email || !password || !phone) {
        alert("Por favor completa todos los campos");
        return;
      }
      
      // Simular registro
      currentUser = { name, email, phone };
      localStorage.setItem('user', JSON.stringify(currentUser));
      
      closeModal(registerModal);
      alert(`¡Bienvenido a Delivex Pro, ${name}! Tu cuenta ha sido creada.`);
    }

    // Cerrar sesión
    function logout() {
      currentUser = null;
      isAdmin = false;
      localStorage.removeItem('user');
      adminPanel.style.display = "none";
      orderHistory.style.display = "none";
      document.querySelector('main').style.display = "grid";
      document.querySelector('.categories').style.display = "flex";
      alert("Sesión cerrada correctamente");
    }

    // Mostrar panel de administración
    function showAdminPanel() {
      document.querySelector('main').style.display = "none";
      document.querySelector('.categories').style.display = "none";
      adminPanel.style.display = "block";
      orderHistory.style.display = "none";
      renderAdminProducts();
    }

    // Renderizar productos en panel de administración
    function renderAdminProducts() {
      adminProducts.innerHTML = "";
      
      products.forEach(product => {
        const productCard = document.createElement("div");
        productCard.className = "admin-product-card slide-in";
        
        let badgeHTML = "";
        if (product.badge) {
          badgeHTML = `<span class="product-badge">${product.badge}</span>`;
        }
        
        productCard.innerHTML = `
          <div class="admin-product-header">
            <h3 class="admin-product-title">${product.name}</h3>
            <div class="admin-product-actions">
              <button class="action-btn edit-btn">
                <i class="fas fa-edit"></i>
              </button>
              <button class="action-btn delete-btn">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
          ${badgeHTML}
          <img src="${product.img}" alt="${product.name}" class="admin-product-image">
          <div class="admin-product-details">
            <p>${product.desc}</p>
            <p><strong>Categoría:</strong> ${product.category}</p>
          </div>
          <p class="admin-product-price">$${product.price}</p>
        `;
        
        adminProducts.appendChild(productCard);
      });
    }

    // Mostrar historial de pedidos
    function showOrderHistory() {
      adminPanel.style.display = "none";
      orderHistory.style.display = "block";
      
      ordersList.innerHTML = "";
      
      if (orders.length === 0) {
        ordersList.innerHTML = `
          <div class="empty-cart">
            <i class="fas fa-shopping-bag"></i>
            <h3>No hay pedidos registrados</h3>
            <p>Los nuevos pedidos aparecerán aquí</p>
          </div>
        `;
        return;
      }
      
      orders.forEach(order => {
        const orderCard = document.createElement("div");
        orderCard.className = "order-card slide-in";
        
        let statusClass = "";
        let statusText = "";
        
        switch(order.status) {
          case "delivered":
            statusClass = "status-delivered";
            statusText = "Entregado";
            break;
          case "pending":
            statusClass = "status-pending";
            statusText = "En proceso";
            break;
          case "cancelled":
            statusClass = "status-cancelled";
            statusText = "Cancelado";
            break;
        }
        
        let itemsHTML = "";
        order.items.forEach(item => {
          itemsHTML += `
            <div class="order-item">
              <span>${item.quantity}x ${item.name}</span>
              <span>$${(item.price * item.quantity).toFixed(2)}</span>
            </div>
          `;
        });
        
        orderCard.innerHTML = `
          <div class="order-header">
            <div class="order-id">${order.id}</div>
            <div class="order-status ${statusClass}">${statusText}</div>
          </div>
          <div class="order-items">
            ${itemsHTML}
          </div>
          <div class="order-total">Total: $${order.total.toFixed(2)}</div>
          <p style="margin-top: 0.5rem; color: var(--gray);">Dirección: ${order.address}</p>
        `;
        
        ordersList.appendChild(orderCard);
      });
    }

    // Crear pedido
    function createOrder() {
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      const total = subtotal + shippingCost;
      
      // Generar ID aleatorio
      const orderId = 'ORD-' + Math.floor(10000 + Math.random() * 90000);
      
      // Crear objeto de pedido
      currentOrder = {
        id: orderId,
        date: new Date().toISOString().split('T')[0],
        items: cart.map(item => ({
          name: item.name,
          price: item.price,
          quantity: item.quantity
        })),
        total: total,
        status: "pending",
        address: addressInput.value.trim()
      };
      
      // Actualizar UI
      document.getElementById("orderId").textContent = orderId.split('-')[1];
      
      // Resetear carrito
      cart = [];
      localStorage.removeItem('cart');
      updateCart();
      addressInput.value = "";
      
      // Generar tiempo de entrega aleatorio
      const deliveryTime = 25 + Math.floor(Math.random() * 20);
      document.getElementById("deliveryTime").textContent = `${deliveryTime} minutos`;
      
      // Simular progreso de entrega
      simulateDelivery();
    }

    // Simular progreso de entrega
    function simulateDelivery() {
      const steps = document.querySelectorAll('.tracking-step');
      let currentStep = 1;
      
      const progress = setInterval(() => {
        if (currentStep < steps.length) {
          steps[currentStep].querySelector('.step-icon').classList.add('active');
          steps[currentStep].querySelector('.step-label').classList.add('active');
          currentStep++;
        } else {
          clearInterval(progress);
        }
      }, 3000);
    }

    // Iniciar la aplicación cuando el DOM esté listo
    document.addEventListener("DOMContentLoaded", init);
    
    // Cargar tema guardado
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      themeToggle.innerHTML = savedTheme === 'dark' 
        ? `<i class="fas fa-sun"></i><span>Modo claro</span>` 
        : `<i class="fas fa-moon"></i><span>Modo oscuro</span>`;
    }
  </script>
</body>
</html>